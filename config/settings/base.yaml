# Django base settings for bookmarks project.
#
# Generated by 'cookiecutter'
# https://github.com/cookiecutter/cookiecutter
# from 'cookiecutter-django2-simplest' template
# https://github.com/mk-dv/cookiecutter-django-2-simplest/
# using Django 2.2.7.
#
# For more information on this file, see:
# https://docs.djangoproject.com/en/2.2/topics/settings/
#
# For the full list of settings and their values, see:
# https://docs.djangoproject.com/en/2.2/ref/settings/

default:
  # Build paths inside the project like this: BASE_DIR / 'your' / 'path'
  BASE_DIR: '@path {{this.ROOT_PATH_FOR_DYNACONF | dirname | dirname}}'

  # Applications path, easy for shortening paths.
  APPS_DIR: '@path {{this.BASE_DIR}}/bookmarks/apps'

  # APPLICATION DEFINITION
  # ---------------------------------------------------------------------------

  # Django searches all applications for templates in turn. When redefining
  # login or logout templates, the first one is encountered will be used,
  # therefore, the application with the redefined templates must be before
  # `django.contrib.admin` app.

  LOCAL_APPS:
    - 'bookmarks.apps.account.apps.AccountConfig'
    - 'bookmarks.apps.images.apps.ImagesConfig'

  DJANGO_APPS:
    - 'django.contrib.admin'
    - 'django.contrib.auth'
    - 'django.contrib.contenttypes'
    - 'django.contrib.sessions'
    - 'django.contrib.messages'
    - 'django.contrib.staticfiles'

  THIRD_PARTY_APPS:
    # https://python-social-auth.readthedocs.io/en/latest/
    - 'social_django'
    # https://sorl-thumbnail.readthedocs.io/en/latest/
    - 'sorl.thumbnail'

  _merge_apps_lists: |
    @jinja {{
      this.update({
        'INSTALLED_APPS':
          this.LOCAL_APPS + this.DJANGO_APPS + this.THIRD_PARTY_APPS
      })
    }}

  # MIDDLEWARE
  # ---------------------------------------------------------------------------

  # https://docs.djangoproject.com/en/2.2/ref/settings/#middleware
  MIDDLEWARE:
    - 'django.middleware.security.SecurityMiddleware'
    - 'django.contrib.sessions.middleware.SessionMiddleware'
    - 'django.middleware.common.CommonMiddleware'
    - 'django.middleware.csrf.CsrfViewMiddleware'
    - 'django.contrib.auth.middleware.AuthenticationMiddleware'
    - 'django.contrib.messages.middleware.MessageMiddleware'
    - 'django.middleware.clickjacking.XFrameOptionsMiddleware'


  # URLS
  # ---------------------------------------------------------------------------

  # https://docs.djangoproject.com/en/2.2/ref/settings/#root-urlconf
  ROOT_URLCONF: 'config.urls'

  TEMPLATES:
    - BACKEND: 'django.template.backends.django.DjangoTemplates'
      DIRS: ['@path {{this.BASE_DIR}}/bookmarks/templates']
      APP_DIRS: true
      OPTIONS:
        context_processors:
          - 'django.template.context_processors.debug'
          - 'django.template.context_processors.request'
          - 'django.contrib.auth.context_processors.auth'
          - 'django.contrib.messages.context_processors.messages'


  # https://docs.djangoproject.com/en/2.2/ref/settings/#wsgi-application
  WSGI_APPLICATION: 'config.wsgi.application'


  # AUTHENTICATION
  # ---------------------------------------------------------------------------

  # https://docs.djangoproject.com/en/2.2/ref/settings/#std:setting-AUTHENTICATION_BACKENDS
  AUTHENTICATION_BACKENDS:
    - 'django.contrib.auth.backends.ModelBackend'
    - 'bookmarks.apps.account.authentication.EmailAuthBackend'
    - 'social_core.backends.google.GoogleOAuth2'
    - 'social_core.backends.vk.VKOAuth2'

  # SOCIAL AUTH
  # ---------------------------------------------------------------------------

  # Add an access request for user email while registration by Vkontakte
  # account.
  SOCIAL_AUTH_VK_OAUTH2_SCOPE:
    - 'email'

  # PASSWORD VALIDATION
  # ---------------------------------------------------------------------------

  # https://docs.djangoproject.com/en/2.2/ref/settings/#auth-password-validators
  AUTH_PASSWORD_VALIDATORS:
    - NAME:
        'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'
    - NAME:
        'django.contrib.auth.password_validation.MinimumLengthValidator'
    - NAME:
        'django.contrib.auth.password_validation.CommonPasswordValidator'
    - NAME:
        'django.contrib.auth.password_validation.NumericPasswordValidator'

  # LOG-IN
  # ---------------------------------------------------------------------------

  # The URL or named URL-pattern where django will redirect the user upon
  # successful authorization.
  # https://docs.djangoproject.com/en/2.2/ref/settings/#login-redirect-url
  LOGIN_REDIRECT_URL: 'dashboard'

  # The URL or named URL pattern where requests are redirected for log-in when
  #  using the login_required() decorator, LoginRequiredMixin, or AccessMixin.
  LOGIN_URL: 'login'

  # The address by clicking on which the user will log out of the account.
  LOGOUT_URL: 'logout'


  # INTERNATIONALIZATION
  # ---------------------------------------------------------------------------

  # https://docs.djangoproject.com/en/2.2/ref/settings/#language-code
  LANGUAGE_CODE: 'en-us'

  # Local time zone. Choices are
  # http://en.wikipedia.org/wiki/List_of_tz_zones_by_name
  # though not all of them may be available with every OS.
  TIME_ZONE: 'UTC'

  # https://docs.djangoproject.com/en/dev/ref/settings/#use-i18n
  USE_I18N: true

  # https://docs.djangoproject.com/en/dev/ref/settings/#use-l10n
  USE_L10N: true

  # https://docs.djangoproject.com/en/dev/ref/settings/#use-tz
  USE_TZ: true


  # MEDIA
  # ---------------------------------------------------------------------------

  # URL that handles the media served from MEDIA_ROOT, used for managing stored
  # files. Read more at
  # https://docs.djangoproject.com/en/2.2/ref/settings/#std:setting-MEDIA_URL
  MEDIA_URL: '/media/'


  # LOCAL APPS
  # ---------------------------------------------------------------------------

  # bookmarks.apps.images

  IMAGES_ON_PAGE: 24
